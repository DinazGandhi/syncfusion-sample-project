<div class="dashboard-wrapper mt-3">
  <div class="sidenav-body-content">
    <div class="content-header">
      <div class="content-header-input mb-1">
        <button class="action-button primary-button" mat-button disableRipple (click)="addWidgetClick()">
          <span>Add Widget</span>
        </button>
      </div>
    </div>
    <div class="control-section">
      <div class="grid-container" style="height: 615px; overflow: hidden;">
      <mat-grid-list cols="8" rowHeight="1:2" gutterSize="20px">
        <mat-grid-tile *ngFor="let card of cards; let i = index" [colspan]="card.cols"
        [rowspan]="card.rows">
          <cdk-drop-list [cdkDropListConnectedTo]="drops" [cdkDropListData]="i">
              <mat-card *ngIf="card.title==='Card 1'" cdkDrag (cdkDragEntered)="entered($event)" [cdkDragData]="i" class="dashboard-card">
                <mat-card-content class="dashboard-card-content">
                  <h1>{{ card.title }}</h1>
                  <div class="dash-col-full">
                    <div>
                      <div class="card p-0">
                        <div class="dash-heading hr-bottom d-flex align-items-center justify-space-between">
                          <div class="dash-title">Time Summary</div>
                          <span id="close" class="e-template-icon e-close-icon">
                            <mat-icon class="cursor-pointer">close</mat-icon>
                          </span>
                        </div>

                        <div class="card-wrapper p-1">
                          <div class="card">
                            <div class="card-body">
                              <div class="card-text">
                                <h2 class="font-size-16 fw-normal text-gray pb-5">
                                  Clients
                                </h2>
                                <span class="font-size-24 fw-bold">{{ timeDashboardSummary?.totalWorkingClients }} /
                                  <span class="font-size-14 fw-normal">{{
                                    timeDashboardSummary?.totalAvailableClients
                                    }}</span></span>
                              </div>
                              <div class="card-img green-box">
                                <mat-icon fontSet="material-icons-outlined">work_outline</mat-icon>
                              </div>
                            </div>
                            <div class="card-footer pt-10 hr mt-10">
                              <div class="d-flex align-items-center gap-5">
                                <div class="view-list d-flex align-items-center gap-5">
                                  <div *ngIf="timeDashboardSummary?.clientScore === 0"
                                    class="d-flex align-items-center danger">
                                    <mat-icon class="font-size-16">south_east</mat-icon>{{
                                    timeDashboardSummary?.totalClientDifference }}
                                  </div>
                                  <div *ngIf="timeDashboardSummary?.clientScore === 1"
                                    class="d-flex align-items-center success">
                                    <mat-icon class="font-size-16">north_east</mat-icon>{{
                                    timeDashboardSummary?.totalClientDifference }}
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div class="card">
                            <div class="card-body">
                              <div class="card-text">
                                <h2 class="font-size-16 fw-normal text-gray pb-5">
                                  Tasks
                                </h2>
                                <span class="font-size-24 fw-bold">{{ timeDashboardSummary?.totalWorkingTasks }} /
                                  <span class="font-size-14 fw-normal">{{
                                    timeDashboardSummary.totalAvailableTasks
                                    }}</span></span>
                              </div>
                              <div class="card-img red-box">
                                <mat-icon fontSet="material-icons-outlined">task</mat-icon>
                              </div>
                            </div>
                            <div class="card-footer pt-10 hr mt-10">
                              <div class="d-flex align-items-center gap-5">
                                <div class="view-list d-flex align-items-center gap-5">
                                  <div *ngIf="timeDashboardSummary?.taskScore === 0"
                                    class="d-flex align-items-center danger">
                                    <mat-icon class="font-size-16">south_east</mat-icon>{{
                                    timeDashboardSummary?.totalTaskDifference }}
                                  </div>
                                  <div *ngIf="timeDashboardSummary?.taskScore === 1"
                                    class="d-flex align-items-center success">
                                    <mat-icon class="font-size-16">north_east</mat-icon>{{
                                    timeDashboardSummary?.totalTaskDifference }}
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div class="card">
                            <div class="card-body">
                              <div class="card-text">
                                <h2 class="font-size-16 fw-normal text-gray pb-5">
                                  Users
                                </h2>
                                <span class="font-size-24 fw-bold">{{ timeDashboardSummary?.totalWorkingUsers }} /
                                  <span class="font-size-14 fw-normal">{{
                                    timeDashboardSummary.totalAvailableUsers
                                    }}</span></span>
                              </div>
                              <div class="card-img blue-box">
                                <mat-icon>people_outline</mat-icon>
                              </div>
                            </div>
                            <div class="card-footer pt-10 hr mt-10">
                              <div class="d-flex align-items-center gap-5">
                                <div class="view-list d-flex align-items-center gap-5">
                                  <div *ngIf="timeDashboardSummary?.userScore === 0"
                                    class="d-flex align-items-center danger">
                                    <mat-icon class="font-size-16">south_east</mat-icon>{{
                                    timeDashboardSummary?.totalUserDifference }}
                                  </div>
                                  <div *ngIf="timeDashboardSummary?.userScore === 1"
                                    class="d-flex align-items-center success">
                                    <mat-icon class="font-size-16">north_east</mat-icon>{{
                                    timeDashboardSummary?.totalUserDifference }}
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div class="card">
                            <div class="card-body">
                              <div class="card-text">
                                <h2 class="font-size-16 fw-normal text-gray pb-5">
                                  Total Time Spent
                                </h2>
                                <span class="font-size-24 fw-bold">{{ timeDashboardSummary?.totalTimeSpent }} /
                                  <span class="font-size-14 fw-normal">{{
                                    timeDashboardSummary?.totalCapacity
                                    }}</span></span>
                              </div>
                              <div class="card-img orange-box">
                                <mat-icon>schedule</mat-icon>
                              </div>
                            </div>
                            <div class="card-footer pt-10 hr mt-10">
                              <div class="d-flex align-items-center gap-5">
                                <div class="view-list d-flex align-items-center gap-5">
                                  <div *ngIf="timeDashboardSummary?.timeScore === 0"
                                    class="d-flex align-items-center danger">
                                    <mat-icon class="font-size-16">south_east</mat-icon>{{
                                    timeDashboardSummary?.totalTimeDifference }}
                                  </div>
                                  <div *ngIf="timeDashboardSummary?.timeScore === 1"
                                    class="d-flex align-items-center success">
                                    <mat-icon class="font-size-16">north_east</mat-icon>{{
                                    timeDashboardSummary?.totalTimeDifference }}
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </mat-card-content>
              </mat-card>
              <mat-card *ngIf="card.title==='Card 2'" cdkDrag (cdkDragEntered)="entered($event)" [cdkDragData]="i" class="dashboard-card">
                <mat-card-content class="dashboard-card-content">
                  <h1>{{ card.title }}</h1>
                  <div class="dash-col-6">
                    <div class="card p-0">
                      <div class="dash-heading hr-bottom d-flex align-items-center justify-space-between pt-5 pb-5">
                        <div class="dash-title">Task Wise Hours Details</div>
                        <div class="dash-dropdown-list d-flex align-items-center gap-15">
                          <span id="close" class="e-template-icon e-close-icon">
                            <mat-icon class="cursor-pointer">close</mat-icon>
                          </span>
                        </div>
                      </div>
                      <div class="dash-body pb-0">
                        <div *ngIf="seriesData.length">
                          <div class="d-flex justify-content-center gap-30 total-invoice">
                            <div class="total-invoice-wrapper text-align-center">
                              <p class="total-title mb-5">Total Hours</p>
                              <p class="fw-bold font-size-16 mb-0">
                                {{ taskWiseHoursDetails.totalHours }}
                              </p>
                            </div>
                            <div class="total-invoice-wrapper text-align-center">
                              <p class="total-title mb-5">Billable Hours</p>
                              <p class="fw-bold text-success font-size-16 mb-0">
                                {{ taskWiseHoursDetails.totalBillableHours }}
                              </p>
                            </div>
                            <div class="total-invoice-wrapper text-align-center">
                              <p class="total-title mb-5">Non-Billable Hours</p>
                              <p class="fw-bold text-danger-100 font-size-16 mb-0">
                                {{ taskWiseHoursDetails.totalNonBillableHours }}
                              </p>
                            </div>
                          </div>
                          <ejs-chart id="chart-container" class="weekly-box" [palettes]="palette"
                            [primaryXAxis]="primaryXAxis" [primaryYAxis]="primaryYAxis" [tooltip]="tooltip"
                            [legendSettings]="legend">
                            <e-series-collection>
                              <ng-container *ngFor="let series of seriesData">
                                <e-series [dataSource]="series.data" type="StackingColumn" columnWidth="0.3"
                                  [name]="series.name" xName="x" yName="y"></e-series>
                              </ng-container>
                            </e-series-collection>
                          </ejs-chart>
                        </div>
                        <div class="norecord-chart" *ngIf="seriesData?.length === 0">
                          <p class="pt-10">No data available yet!</p>
                        </div>
                      </div>
                    </div>
                  </div>
                </mat-card-content>
              </mat-card>
              <mat-card *ngIf="card.title==='Card 3'" cdkDrag (cdkDragEntered)="entered($event)" [cdkDragData]="i" class="dashboard-card">
                <mat-card-content class="dashboard-card-content">
                  <h1>{{ card.title }}</h1>
                  <div class="dash-col-3">
                    <div class="card p-0">
                      <div class="dash-heading hr-bottom d-flex align-items-center justify-space-between">
                        <div class="dash-title">Timer Widget</div>
                        <span id="close" class="e-template-icon e-close-icon">
                          <mat-icon class="cursor-pointer">close</mat-icon>
                        </span>
                      </div>
                      <div class="dash-body text-align-center pt-2 pb-2">
                        <div class="text-align-center">
                          <img src="assets/images/timer-img.svg" alt="Timer" width="70px" />
                        </div>
                        <div class="wp-100 mt-2">
                          <div class="form-field">
                            <mat-form-field appearance="fill" class="w-200">
                              <mat-select #mytask panelClass="myPanelClass" placeholder="VAT Return Forms"
                                [disableOptionCentering]="true">
                                <mat-option value="0">VAT Return Forms</mat-option>
                                <mat-option value="1">VAT Return Forms</mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>

                          <button class="action-button secondary-button timer-icon" mat-dialog-close disableRipple
                            type="button" mat-button disableRipple>
                            Start Timer
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </mat-card-content>
              </mat-card>
          </cdk-drop-list>
        </mat-grid-tile>
      </mat-grid-list>
      </div>
    </div>
  </div>
</div>
